!function(t){var e={};function i(s){if(e[s])return e[s].exports;var r=e[s]={i:s,l:!1,exports:{}};return t[s].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(s,r,function(e){return t[e]}.bind(null,r));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/dist/",i(i.s=1)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();e.JUMP=!1,e.LEFT=!1,e.RIGHT=!1,e.SHOOT=!1,e.FACERIGHT=!1,e.FACELEFT=!1;var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.player=e,this.handleKeyPress=this.handleKeyPress.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this),document.onkeydown=this.handleKeyPress,document.onkeyup=this.handleKeyUp}return s(t,[{key:"handleKeyPress",value:function(t){switch(t.preventDefault(),t.keyCode){case 88:e.JUMP=!0;break;case 37:e.LEFT=!0,e.FACELEFT=!1,e.FACERIGHT=!1,e.RIGHT=!1;break;case 39:e.RIGHT=!0,e.FACELEFT=!1,e.FACERIGHT=!1,e.LEFT=!1;break;case 90:e.SHOOT=!0}}},{key:"handleKeyUp",value:function(t){switch(t.preventDefault(),t.keyCode){case 88:e.JUMP=!1;break;case 37:e.LEFT=!1,e.FACELEFT=!0;break;case 39:e.RIGHT=!1,e.FACERIGHT=!0;break;case 90:e.SHOOT=!1}}}]),t}();e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.H=e.W=void 0;var s,r=i(2),n=(s=r)&&s.__esModule?s:{default:s};e.W=700,e.H=440,document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("canvas"),e=t.getContext("2d");t.width=700,t.height=440;var i=new n.default(e,t);i.play(),i.render()})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=a(i(3)),n=a(i(5)),h=a(i(0));function a(t){return t&&t.__esModule?t:{default:t}}var o=function(){function t(e,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.canvas=i,this.background=new n.default(e),this.player=new r.default(e),this.controls=new h.default(this.player),this.play=this.play.bind(this),this.clearCanvas=this.clearCanvas.bind(this)}return s(t,[{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,canvas.width,canvas.height)}},{key:"play",value:function(){requestAnimationFrame(this.play),this.clearCanvas(),this.render()}},{key:"render",value:function(){this.background.drawBg(),this.player.animate()}}]),t}();e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),r=i(0);n(r),n(i(4));function n(t){return t&&t.__esModule?t:{default:t}}var h="../assets/images/player/mega_man.png",a="../assets/images/player/mega_man2.png",o=[1,35,69,100,142,180,213,244,275,312,353,390],u=[1380,1345,1315,1282,1240,1202,1170,1141,1107,1067,1028],c=[36,75,115,162,204,243,283,326,371,413],d=[1347,1310,1270,1224,1182,1142,1102,1059,1014,972],l=[3,29,53,78,108,138,170],y=[1385,1363,1340,1315,1285,1255,1223],f=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.xPos=120,this.yPos=190,this.xSize=35,this.ySize=35,this.sx=225,this.sy=29,this.srcSprite={x:35,y:35},this.spriteSize=35,this.dX=4,this.dY=16.8,this.jumpStr=0,this.yVel=0,this.step=35,this.runStep=0,this.runShootStep=0,this.jumpStep=0,this.traverse=this.traverse.bind(this),this.traverseRun=this.traverseRun.bind(this),this.grounded=!0,this.activity="stand",this.initAnim(),this.grav(),this.renderStandTime=(new Date).getTime(),this.renderRunTime=(new Date).getTime(),this.renderJumpTime=(new Date).getTime()}return s(t,[{key:"initAnim",value:function(){this.rightSprites=new Image,this.rightSprites.src=h,this.rightSprites.onload=this.drawPlayer.bind(this),this.leftSprites=new Image,this.leftSprites.src=a,this.leftSprites.onload=this.drawPlayer.bind(this)}},{key:"moveLeft",value:function(){r.LEFT?(this.xPos-=this.dX,this.activity="run-left"):r.FACELEFT&&(this.activity="stand-left")}},{key:"moveRight",value:function(){r.RIGHT?(this.xPos+=this.dX,this.activity="run"):r.FACERIGHT&&(this.activity="stand")}},{key:"moveUp",value:function(){r.JUMP&&this.grounded?(this.yPos-=this.dY,this.yVel=this.dY):r.JUMP&&!this.grounded?(this.yPos-=this.yVel,this.yVel/=1.053):r.JUMP||this.grounded||(this.yVel=0)}},{key:"grav",value:function(){this.yPos+35>=220?this.grounded=!0:(this.grounded=!1,this.yPos+=6)}},{key:"shoot",value:function(){r.SHOOT&&r.FACERIGHT?this.activity="shoot":r.SHOOT&&r.FACELEFT?this.activity="shoot-left":r.SHOOT&&r.RIGHT?this.activity="run-shoot":r.SHOOT&&r.LEFT&&(this.activity="run-shoot-left")}},{key:"update",value:function(){this.grav(),this.moveUp(),this.moveRight(),this.moveLeft(),this.shoot()}},{key:"traverse",value:function(){var t=(new Date).getTime();t>this.renderStandTime&&(this.step+=35,this.renderStandTime=t+700),this.step>=105&&(this.step=0)}},{key:"traverseRun",value:function(){var t=(new Date).getTime();t>this.renderRunTime&&(this.runStep++,this.runShootStep++,this.renderRunTime=t+100),this.runStep>=11&&(this.runStep=0),this.runShootStep>=9&&(this.runShootStep=0)}},{key:"traverseJump",value:function(){var t=(new Date).getTime();t>this.renderJumpTime&&(this.jumpStep++,this.renderJumpTime=t+150),(this.jumpStep>=6||this.grounded)&&(this.jumpStep=0)}},{key:"drawPlayer",value:function(){"stand"===this.activity&&this.grounded&&this.ctx.drawImage(this.rightSprites,this.sx+this.step,this.sy,this.srcSprite.x,this.srcSprite.y,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"run"===this.activity&&this.grounded&&this.ctx.drawImage(this.rightSprites,1+o[this.runStep],67,this.srcSprite.x,this.srcSprite.y,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"stand-left"===this.activity&&this.grounded&&this.ctx.drawImage(this.leftSprites,1055+this.step,this.sy,35,35,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"run-left"===this.activity&&this.grounded&&this.ctx.drawImage(this.leftSprites,u[this.runStep],67,35,35,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"shoot"===this.activity&&this.grounded&&this.ctx.drawImage(this.rightSprites,361,this.sy,this.srcSprite.x,this.srcSprite.y,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"shoot-left"===this.activity&&this.ctx.drawImage(this.leftSprites,1020,this.sy,this.srcSprite.x,this.srcSprite.y,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"run-shoot"===this.activity&&this.ctx.drawImage(this.rightSprites,c[this.runShootStep],106,this.srcSprite.x,this.srcSprite.y,this.xPos,this.yPos,2*this.xSize,2*this.ySize),"run-shoot-left"===this.activity&&this.ctx.drawImage(this.leftSprites,d[this.runShootStep],106,this.srcSprite.x,this.srcSprite.y,this.xPos,this.yPos,2*this.xSize,2*this.ySize),!this.grounded&&r.FACERIGHT&&this.ctx.drawImage(this.rightSprites,l[this.jumpStep],148,this.srcSprite.x-8,this.srcSprite.y+8,this.xPos,this.yPos,54,86),!this.grounded&&r.FACELEFT&&this.ctx.drawImage(this.leftSprites,y[this.jumpStep],148,this.srcSprite.x-8,this.srcSprite.y+8,this.xPos,this.yPos,54,86),"run"!==this.activity||this.grounded||this.ctx.drawImage(this.rightSprites,l[this.jumpStep],148,this.srcSprite.x-8,this.srcSprite.y+8,this.xPos,this.yPos,54,86),"run-left"!==this.activity||this.grounded||this.ctx.drawImage(this.leftSprites,y[this.jumpStep],148,this.srcSprite.x-8,this.srcSprite.y+8,this.xPos,this.yPos,54,86)}},{key:"animate",value:function(){this.update(),this.traverseJump(),this.traverseRun(),this.traverse(),this.drawPlayer()}}]),t}();e.default=f},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}();var r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ctx=e,this.setBg()}return s(t,[{key:"setBg",value:function(){this.Bg=new Image,this.Bg.src="../assets/images/stage/stage.png",this.Bg.onload=this.drawBg.bind(this),this.sky=new Image,this.sky.src="../assets/images/stage/stage_background.png",this.sky.onload=this.drawBg.bind(this)}},{key:"drawBg",value:function(){this.ctx.drawImage(this.sky,0,0,3520,440),this.ctx.drawImage(this.Bg,400,0,7686,220,0,0,15372,440)}}]),t}();e.default=r}]);
//# sourceMappingURL=bundle.js.map